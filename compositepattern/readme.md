# 组合模式 compositePattern
针对问题:可以一致性的处理整个树形结构或者树形结构的一部分，也可以一致性的处理树形结构中的叶子节点和容器节点。
## 定义
组合多个对象形成的树形结构以表示具有“整体-部分”关系的层次结构。又称为“整体-部分”结构，是一种对象结构型模式。
## 角色
- Component（抽象构件）：接口或抽象类，为叶子结构和容器构件对象声明接口，
- Leaf（叶子构件）：没有子节点，对于访问及管理子构件的方法，可以通过异常等方式进行处理。
- Composite（容器构件）：包含子节点，提供一个集合存储子节点，其业务方法中可以递归调用其叶子节点的业务方法。

## 模式
#### 1.透明组合模式
抽象构件Component声明了所有用于管理成员对象的方法。确保所有构件类都有相同的接口。但是不够安全，叶子对象和容器对象在本质上是有区别
的。叶子对象不能包含成员对象。运行阶段可能会报错。
#### 2.安全组合模式
抽象构件Component没有声明任何用于管理成员对象的方法，在Composite类中声明并实现业务方法。但是不够透明，叶子构件和容器构件具有不同
的方法，客户段不能完全针对抽象编程。

## 优点
1. 清晰的定义分层次的复杂对象，
2. 可以一致的使用一个组合结构或者其中单个对象，简化代码
3. 增加新的容器结构或叶子节点方便，符合“开闭原则”
4. 实现灵活，控制简单
## 缺点
1. 增加新构件时很难对容器中的构件类型进行限制。

## 适用场景
1. 具有整体和部分的层次结构
2. 需要处理树形结构
3. 分离出叶子对象和容器对象，而他们的类型不固定，需要增加一些新的类型。